---
const myFunction = () => {
				alert('myFunction')
			}
function submitForm(event) {
	console.log(JSON.stringify(event))
    event.preventDefault();
    // Use JavaScript to send data to a specific URL
	const form = event.target;
					const formData = new FormData(form);
					const data = Object.fromEntries(formData);
  }
---

<html lang="en">
	<head>
		<title>Online Store</title>
	

		<script type="module" is:inline>

function submitForm() {
	console.log(JSON.stringify(event))
    event.preventDefault();
    // Use JavaScript to send data to a specific URL
	const form = event.target;
					const formData = new FormData(form);
					const data = Object.fromEntries(formData);
  }


			document.addEventListener('DOMContentLoaded', () => {
				console.log('loaded');
				document.querySelector('form').addEventListener('submit', (e) => {
					e.preventDefault();
					const form = e.target;
					const formData = new FormData(form);
					const data = Object.fromEntries(formData);

					fetch('/login.form.async', {
						method: 'POST',
						body: JSON.stringify(data),
					})
						.then((res) => res.json())
						.then((data) => {
							console.log(JSON.stringify(data))
							document.querySelector('#result').innerHTML =
								'Progressive login was successful! you will be redirected to the store in 3 seconds';
							setTimeout(() => (location.href = '/'), 3000);
						});
				});
			});
		</script>
	</head>
	<body>
			<h1>Login</h1>
			<form action="/login.form" method="POST">
				<label for="name">Name</label>
				<input type="text" name="name" />

				<label for="password">Password</label>
				<input type="password" name="password" />

				<input type="submit" value="Submit" />
			</form>
			<div id="result"></div>
			<form action="javascript:alert('Hello there, I am being submitted');">
				<button type="submit">
					Let's do it
				</button>
			</form>
			<form onsubmit="submitForm(this.e)"> 
				<button type="submit">
				Let's call submitForm
			</button>
			<input type="submit" value="Submit">
			<input type="submit" formenctype="multipart/form-data" value="Submit as Multipart/form-data">
			<button type="button" onclick="alert('Hello World!')">Click Me!</button>
			<input type="submit" value="Submit using GET">
			<input type="submit" formmethod="post" value="Submit using POST">
			<input type="submit" formnovalidate="formnovalidate" value="Submit without validation">
		</form>
		<script>

			function submitForm(event) {
				console.log(JSON.stringify(event))
				event.preventDefault();
				// Use JavaScript to send data to a specific URL
				const form = event.target;
								const formData = new FormData(form);
								const data = Object.fromEntries(formData);
			  }
			  </script>
	</body>
</html>